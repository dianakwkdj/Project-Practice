–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ **¬´–ë–∞—Å–º–∞–Ω–Ω—ã–µ —Ö—Ä–æ–Ω–∏–∫–∏. –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –≤—Å–µ–ª–µ–Ω–Ω—ã–µ¬ª** —è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∞ —á–∞—Ç-–±–æ—Ç–∞ –≤ Telegram, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏–π:
### **–ß–∞—Ç-–±–æ—Ç ¬´–ü–æ–º–æ—â–Ω–∏–∫ –ø–æ –∏–≥—Ä–µ¬ª**  
**–¶–µ–ª—å:**  
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–≥—Ä–æ–∫–æ–≤, –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤, –ø–æ–¥—Å–∫–∞–∑–∫–∏.  

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**  
- **–ì–∞–π–¥—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏** ‚Äì –∫–∞–∫ –ø—Ä–æ–π—Ç–∏ —Å–ª–æ–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.  
- **–ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏–≥—Ä—ã –≤ –±–æ—Ç–µ** ‚Äì NPC –º–æ–≥—É—Ç "–æ–±—â–∞—Ç—å—Å—è" —Å –∏–≥—Ä–æ–∫–æ–º –≤–Ω–µ –∏–≥—Ä—ã.  
- **–¢–∞–π–º–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π** ‚Äì –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ª–æ–∫–∞—Ü–∏—è—Ö –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö.  
- **–ö–æ–Ω–∫—É—Ä—Å—ã –∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã** ‚Äì –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã –∑–∞ –∑–Ω–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏.  

**–ü—Ä–∏–º–µ—Ä:**  
> –ò–≥—Ä–æ–∫ –∑–∞—Å—Ç—Ä—è–ª –Ω–∞ –∫–≤–µ—Å—Ç–µ ‚Üí –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –∏–ª–∏ –º–∏–Ω–∏-–≤–∏–∫—Ç–æ—Ä–∏–Ω—É –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞.  

#### **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                     |
|-----------------|-------------------------------|
| Frontend (–∏–≥—Ä–∞) | Godot 4, GDScript, C#        |
| Backend         | Python (FastAPI), PostgreSQL  |
| –ë–æ—Ç            | Aiogram 3, Redis (–¥–ª—è FSM)   |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏      | –ú—É–∑–µ–π–Ω—ã–π API (GraphQL)        |


### **üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞:**   
1. **–ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏–≥—Ä–µ** ‚Äì –ø–æ–º–æ—â—å –≤ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –∫–≤–µ—Å—Ç–æ–≤.  
2. **–î–∏–∞–ª–æ–≥–∏ —Å NPC** ‚Äì –æ–±—â–µ–Ω–∏–µ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ –≤–Ω–µ –∏–≥—Ä—ã.  
3. **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å** ‚Äì –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤.  (–≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ)
4. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–∫–∏** ‚Äì –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–æ–∫–∞—Ü–∏—è—Ö.  


#### **–¢–∞–±–ª–∏—Ü–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –±–æ—Ç–∞**
| –ú–æ–¥—É–ª—å          | –ú–µ—Ç–æ–¥—ã                    | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|-----------------|--------------------------|-----------------------------------|
| `/quests`       | GET /active, POST /start | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞–º–∏               |
| `/inventory`    | GET /items, POST /use    | –†–∞–±–æ—Ç–∞ —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º               |
| `/history`      | GET /facts?location=id   | –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–∫–∏              |
| `/npc`          | POST /talk               | –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞                |

---

### **üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**  
- **–Ø–∑—ã–∫:** Python (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `aiogram` –∏–ª–∏ `python-telegram-bot`)  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite / PostgreSQL (–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)   

---
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ –≤ BotFather, –æ–Ω –≤—ã–¥–∞–ª –º–Ω–µ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ —è–∑—ã–∫–µ Python.
### **üìù –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ –Ω–∞ Python: **  

```mermaid
flowchart TB
    subgraph Telegram
        A[–ë–æ—Ç] -->|Webhook| B[–°–µ—Ä–≤–µ—Ä]
    end
    
    subgraph Cloud
        B --> C[Godot Server]
        C --> D[(DB)]
        C --> E[Museum API]
    end
    
    A --> F[–ò–≥—Ä–æ–∫–∏]
    C --> F
```


#### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞**  
```python
from aiogram import Bot, Dispatcher, types, F
from aiogram.filters import Command
import sqlite3

bot = Bot(token="8100940938:AAG-hEM6aAwh7pb0C48ko9V2wnP7ZwSTyeY")
dp = Dispatcher()

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
conn = sqlite3.connect('basmannye.db')
cursor = conn.cursor()

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
cursor.execute('''CREATE TABLE IF NOT EXISTS users
               (user_id INTEGER PRIMARY KEY, username TEXT, inventory TEXT)''')
conn.commit()
```

#### **2. –ö–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏**  
```python
# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
@dp.message(Command("start"))
async def start(message: types.Message):
    kb = [
        [types.KeyboardButton(text="üéÆ –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏–≥—Ä–µ")],
        [types.KeyboardButton(text="üìú –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–∫–∏")],
        [types.KeyboardButton(text="üí¨ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏")],
        [types.KeyboardButton(text="üì¶ –ú–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")]
    ]
    keyboard = types.ReplyKeyboardMarkup(keyboard=kb, resize_keyboard=True)
    await message.answer("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ¬´–ë–∞—Å–º–∞–Ω–Ω—ã–µ —Ö—Ä–æ–Ω–∏–∫–∏¬ª! –ß–µ–º –ø–æ–º–æ—á—å?", reply_markup=keyboard)
```

#### **3. –†–∞–∑–¥–µ–ª ¬´–ü–æ–¥—Å–∫–∞–∑–∫–∏¬ª**  
```python
@dp.message(F.text == "üéÆ –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏–≥—Ä–µ")
async def game_hints(message: types.Message):
    await message.answer(
        "–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é:",
        reply_markup=types.InlineKeyboardMarkup(inline_keyboard=[
            [types.InlineKeyboardButton(text="–°—Ç–∞–Ω—Ü–∏—è ¬´–ë–∞—É–º–∞–Ω—Å–∫–∞—è¬ª", callback_data="hint_baumanskaya")],
            [types.InlineKeyboardButton(text="–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è", callback_data="hint_lab")]
        ])
    )

@dp.callback_query(F.data.startswith("hint_"))
async def send_hint(callback: types.CallbackQuery):
    location = callback.data.split("_")[1]
    hints = {
        "baumanskaya": "üîç –û—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–µ–≤—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É ‚Äì —Ç–∞–º —Å–ø—Ä—è—Ç–∞–Ω –∫–ª—é—á –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ —Ç–æ–Ω–Ω–µ–ª—è.",
        "lab": "üß™ –ü–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å —É—á—ë–Ω—ã–º ‚Äì –æ–Ω –¥–∞—Å—Ç –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞."
    }
    await callback.message.answer(hints.get(location, "–ü–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."))
```

#### **4. –†–∞–∑–¥–µ–ª ¬´–ü–µ—Ä—Å–æ–Ω–∞–∂–∏¬ª**  
```python
@dp.message(F.text == "üí¨ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏")
async def npc_chat(message: types.Message):
    await message.answer(
        "–° –∫–µ–º —Ö–æ—Ç–∏—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å?",
        reply_markup=types.InlineKeyboardMarkup(inline_keyboard=[
            [types.InlineKeyboardButton(text="–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä", callback_data="npc_professor")],
            [types.InlineKeyboardButton(text="–ú–µ—Ö–∞–Ω–∏–∫", callback_data="npc_mechanic")]
        ])
    )

@dp.callback_query(F.data.startswith("npc_"))
async def npc_dialogue(callback: types.CallbackQuery):
    npc = callback.data.split("_")[1]
    dialogues = {
        "professor": "üë®‚Äçüî¨ ¬´–í–∞—à–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–∑–º–µ–Ω—è—Ç —Ö–æ–¥ –∏—Å—Ç–æ—Ä–∏–∏! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏.¬ª",
        "mechanic": "üîß ¬´–≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º —Å–ª–æ–º–∞–Ω‚Ä¶ –ù–∞–π–¥–∏—Ç–µ —à–µ—Å—Ç–µ—Ä—ë–Ω–∫—É –≤ —Å—Ç–∞—Ä–æ–º –¥–µ–ø–æ.¬ª"
    }
    await callback.message.answer(dialogues.get(npc, "–ü–µ—Ä—Å–æ–Ω–∞–∂ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç."))
```

#### **5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**  
```python
async def main():
    await dp.start_polling(bot)

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
```

---
#### **6. –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞**  
![Screenshot1](https://github.com/dianakwkdj/Project-Practice/blob/master/docs/img/1.png)

![Screenshot1](https://github.com/dianakwkdj/Project-Practice/blob/master/docs/img/2.png)

–°—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞: https://web.telegram.org/a/#8100940938
